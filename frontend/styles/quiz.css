/* src/styles/quiz.css - Enhanced styles for detailed leaderboard */

/* Progress animation */
.progress-anime .progress-fill {
  @apply h-full transition-all duration-300 ease-out rounded-full;
  background: linear-gradient(90deg, rgb(59 130 246) 0%, rgb(147 51 234) 100%);
}

/* Timer styling */
.timer-critical {
  @apply text-red-500 dark:text-red-400 animate-pulse;
  text-shadow: 0 0 10px rgb(239 68 68 / 0.5);
}

.timer-warning {
  @apply text-yellow-500 dark:text-yellow-400;
  text-shadow: 0 0 5px rgb(234 179 8 / 0.3);
}

.timer-normal {
  @apply text-blue-600 dark:text-blue-400;
}

/* Enhanced Leaderboard Styling */
.leaderboard-item {
  @apply p-4 rounded-xl border transition-all duration-300;
  @apply hover:scale-[1.02] hover:shadow-lg;
}

.leaderboard-item.rank-1 {
  @apply border-yellow-400 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-950/30 dark:to-orange-950/30;
  box-shadow: 0 0 20px rgb(250 204 21 / 0.3);
  position: relative;
}

.leaderboard-item.rank-1::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border-radius: inherit;
  background: linear-gradient(45deg, #fbbf24, #f59e0b, #d97706, #fbbf24);
  z-index: -1;
  background-size: 400% 400%;
  animation: gradient-flow 3s ease infinite;
}

@keyframes gradient-flow {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.leaderboard-item.rank-2 {
  @apply border-gray-400 bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-800 dark:to-slate-800;
  box-shadow: 0 0 15px rgb(156 163 175 / 0.2);
}

.leaderboard-item.rank-3 {
  @apply border-orange-400 bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-950/30 dark:to-yellow-950/30;
  box-shadow: 0 0 15px rgb(251 146 60 / 0.2);
}

/* User avatar with gradient borders */
.user-avatar {
  @apply w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  position: relative;
}

.user-avatar.current-user {
  background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
}

.user-avatar.bot-user {
  background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
}

.user-avatar.rank-1 {
  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  animation: pulse-gold 2s ease-in-out infinite alternate;
}

@keyframes pulse-gold {
  from { box-shadow: 0 0 5px rgba(251, 191, 36, 0.5); }
  to { box-shadow: 0 0 20px rgba(251, 191, 36, 0.8), 0 0 40px rgba(251, 191, 36, 0.3); }
}

/* XP tracker styling */
.xp-progress {
  @apply h-3 w-full rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700;
  background: linear-gradient(90deg, rgb(229 231 235) 0%, rgb(209 213 219) 100%);
}

.dark .xp-progress {
  background: linear-gradient(90deg, rgb(55 65 81) 0%, rgb(75 85 99) 100%);
}

.xp-progress .xp-fill {
  @apply h-full transition-all duration-1000 ease-out rounded-full;
  background: linear-gradient(90deg, rgb(59 130 246) 0%, rgb(147 51 234) 50%, rgb(251 191 36) 100%);
  box-shadow: 0 0 10px rgb(59 130 246 / 0.5);
}

/* Performance trend bars */
.performance-bar {
  @apply h-8 flex-1 rounded flex items-center justify-center text-xs font-bold text-white transition-all duration-300;
  min-width: 2rem;
}

.performance-bar:hover {
  @apply scale-105 shadow-lg;
}

.performance-bar.excellent {
  @apply bg-green-500;
  background: linear-gradient(135deg, #10b981, #059669);
}

.performance-bar.good {
  @apply bg-blue-500;
  background: linear-gradient(135deg, #3b82f6, #2563eb);
}

.performance-bar.average {
  @apply bg-yellow-500;
  background: linear-gradient(135deg, #eab308, #ca8a04);
}

.performance-bar.poor {
  @apply bg-red-500;
  background: linear-gradient(135deg, #ef4444, #dc2626);
}

/* Quiz result card animations */
.quiz-result-card {
  @apply rounded-lg border transition-all duration-300;
}

.quiz-result-card:hover {
  @apply scale-[1.02] shadow-md;
  transform-origin: center;
}

/* Streak fire animation */
.streak-fire {
  @apply text-orange-500;
  animation: fire-flicker 1.5s ease-in-out infinite alternate;
}

@keyframes fire-flicker {
  0% { 
    transform: scale(1) rotate(-1deg);
    color: #f97316;
  }
  100% { 
    transform: scale(1.1) rotate(1deg);
    color: #ea580c;
  }
}

/* Level badge styling */
.level-badge {
  @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-bold;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  position: relative;
  overflow: hidden;
}

.level-badge::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
  transform: rotate(45deg);
  animation: shine 3s infinite;
}

@keyframes shine {
  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
  50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
  100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
}

/* Collapsible animations */
.collapsible-content {
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.collapsible-trigger[data-state="open"] .chevron-icon {
  transform: rotate(180deg);
}

.chevron-icon {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Grade badge colors */
.grade-a-plus {
  @apply bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/50 dark:text-emerald-300;
}

.grade-a {
  @apply bg-green-100 text-green-800 border-green-200 dark:bg-green-900/50 dark:text-green-300;
}

.grade-b {
  @apply bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/50 dark:text-blue-300;
}

.grade-c {
  @apply bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/50 dark:text-yellow-300;
}

.grade-d {
  @apply bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/50 dark:text-orange-300;
}

.grade-f {
  @apply bg-red-100 text-red-800 border-red-200 dark:bg-red-900/50 dark:text-red-300;
}

/* Difficulty badge colors */
.difficulty-easy {
  @apply bg-green-100 text-green-800 border-green-200 dark:bg-green-900/50 dark:text-green-300;
}

.difficulty-medium {
  @apply bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/50 dark:text-yellow-300;
}

.difficulty-hard {
  @apply bg-red-100 text-red-800 border-red-200 dark:bg-red-900/50 dark:text-red-300;
}

/* XP Rewards section styling */
.xp-rewards-grid {
  @apply grid grid-cols-2 md:grid-cols-4 gap-3;
}

.xp-reward-item {
  @apply text-center transition-transform duration-200;
}

.xp-reward-item:hover {
  @apply scale-105;
}

.xp-reward-circle {
  @apply w-10 h-10 rounded-full mx-auto mb-1 flex items-center justify-center text-white text-xs font-bold transition-all duration-300;
}

.xp-reward-circle:hover {
  @apply shadow-lg scale-110;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .leaderboard-item {
    @apply p-3;
  }
  
  .user-avatar {
    @apply w-10 h-10 text-base;
  }
  
  .performance-bar {
    @apply h-6 text-xs;
    min-width: 1.5rem;
  }
}

/* Dark mode specific adjustments */
.dark .leaderboard-item.rank-1 {
  border-color: rgb(251 191 36 / 0.6);
}

.dark .leaderboard-item.rank-2 {
  border-color: rgb(156 163 175 / 0.6);
}

.dark .leaderboard-item.rank-3 {
  border-color: rgb(251 146 60 / 0.6);
}